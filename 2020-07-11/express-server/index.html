<HTML>
    <BODY>
        <H1>Hello World</H1>

        <SCRIPT SRC="https://code.jquery.com/jquery-3.5.1.min.js"
                INTEGRITY="sha256-9/aliU8dGd2tb6OSsuzixeV4y/faTqgFtohetphbbj0="
                CROSSORIGIN="anonymous"></SCRIPT>

        <SCRIPT>
            let exampleSocket = new WebSocket("ws://localhost:7474");

            exampleSocket.onmessage = (event) => {
                console.debug("Message in!", event);
                let e = JSON.parse(event.data);
                colour = `rgb(${e.R}, ${e.G}, ${e.B})`;
                console.log(colour);
                $("H1").css("color", colour);
            };

        </SCRIPT>

        <OL>
            <!-- Append players here... -->
        </OL>

        <BUTTON ID="btn1">Append item</BUTTON>

        <SCRIPT>
            // Here's a manual add via button, with bogus file name:
            let filename = "goo.wav";
            $("#btn1").click(() => {
                $("OL").append(`
                    <H3>${filename}</H3>
                    <AUDIO CONTROLS>
                        <SOURCE SRC="${filename}" TYPE="audio/wav">
                    </AUDIO>
                `)
            });
        </SCRIPT>
    </BODY>
</HTML>
